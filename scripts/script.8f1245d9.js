"use strict";angular.module("app.env",[]).constant("env",{apiBase:"https://api.github.com/"}),angular.module("app.configs",[]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("users")}]),angular.module("app.resources",["ngResource"]).service("userApi",["$resource","env",function(a,b){var c=b.apiBase+"users/:userLogin/";return a(c,{},{repos:{url:c+"repos",isArray:!0}})}]).service("repoApi",["$resource","env",function(a,b){var c=b.apiBase+"repos/:userLogin/:repoName/";return a(c,{},{commits:{url:c+"commits",isArray:!0},branches:{url:c+"branches",isArray:!0}})}]),angular.module("app",["ngAnimate","ui.router","app.env","app.configs","app.resources","app.UserList","app.UserDetails","app.RepoDetails"]),function(a){var b=function(a,b,c){var d=this;d.users=c};b.$inject=["$rootScope","$state","users"],b.resolve={users:["$q","userApi",function(a,b){return a(function(a){b.query(function(b){a(b)})})}]};var c=a.module("app.UserList",[]);c.controller("UserList",b),c.config(["$stateProvider",function(a){a.state("user-list",{url:"/users",templateUrl:"user-list/user-list.html",controller:b,resolve:b.resolve,controllerAs:"ctrl"})}])}(angular),function(a){var b=function(a,b,c){var d=this;d.user=c.user,d.repos=c.repos,d.repoCommits=function(c){a.repo=c,a.user=d.user,b.transitionTo("repo-details",{userLogin:d.user.login,repoName:c.name})}};b.$inject=["$rootScope","$state","initData"],b.resolve={initData:["$rootScope","$q","$stateParams","userApi",function(a,b,c,d){var e=b.defer(),f=d.get(c),g=d.repos(c);return b.all([f.$promise,g.$promise]).then(function(a){e.resolve({user:a[0],repos:a[1]})}),e.promise}]};var c=a.module("app.UserDetails",[]);c.controller("UserDetails",b),c.config(["$stateProvider",function(a){a.state("user-details",{url:"/users/:userLogin",templateUrl:"user-details/user-details.html",controller:b,resolve:b.resolve,controllerAs:"ctrl"})}])}(angular),function(a){var b=function(a){var b=this;b.user=a.user,b.repo=a.repo,b.commits=a.commits,b.branches=a.branches};b.$inject=["initData"],b.resolve={initData:["$rootScope","$stateParams","$q","userApi","repoApi",function(a,b,c,d,e){var f=c.defer(),g=c.defer(),h=c.defer(),i=e.commits(b),j=e.branches(b);return a.repo||a.user?(h.resolve(a.repo),h.$promise=h.promise,delete a.repo,g.resolve(a.user),g.$promise=h.promise,delete a.user):(h=e.get(b),g=d.get({userLogin:b.userLogin})),c.all([g.$promise,h.$promise,i.$promise,j.$promise]).then(function(a){f.resolve({user:a[0],repo:a[1],commits:a[2],branches:a[3]})}),f.promise}]};var c=a.module("app.RepoDetails",[]);c.controller("RepoDetails",b),c.config(["$stateProvider",function(a){a.state("repo-details",{url:"/repos/:userLogin/:repoName",templateUrl:"repo-details/repo-details.html",controller:b,resolve:b.resolve,controllerAs:"ctrl"})}])}(angular);